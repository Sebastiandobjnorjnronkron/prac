<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Juego - NEXO</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      src="https://unpkg.com/react@18/umd/react.development.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
      crossorigin
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>

  <body class="bg-gray-900 text-white font-[Poppins]">
    <header class="bg-gray-800 bg-opacity-50 backdrop-blur-md shadow-md py-4">
      <div class="max-w-7xl mx-auto px-4 flex justify-between items-center">
        <h1
          class="text-2xl font-bold bg-gradient-to-r from-cyan-400 to-purple-600 bg-clip-text text-transparent"
        >
          ðŸŽ® NEXO
        </h1>
        <nav
          class="hidden md:flex flex-wrap justify-center gap-4 text-sm font-semibold"
        >
          <a href="index.html" class="hover:text-cyan-400">Inicio</a>
          <a href="mouse.html" class="hover:text-cyan-400">Mouse</a>
          <a href="teclados.html" class="hover:text-cyan-400">Teclados</a>
          <a href="graficas.html" class="hover:text-cyan-400">GrÃ¡ficas</a>
          <a href="audifonos.html" class="hover:text-cyan-400">AudÃ­fonos</a>
          <a href="juego.html" class="text-cyan-400 font-bold">Juego</a>
          <a href="contacto.html" class="hover:text-cyan-400">Contacto</a>
        </nav>
      </div>
    </header>

    <main id="root" class="max-w-4xl mx-auto px-4 py-10 text-center"></main>

    <footer
      class="text-center text-gray-400 text-sm py-6 bg-gray-800 bg-opacity-50 mt-10"
    >
      Â© 2025 NEXO. Todos los derechos reservados.
    </footer>

    <script type="text/babel">
      function Game() {
        const [score, setScore] = React.useState(0);
        const [time, setTime] = React.useState(30);
        const [playing, setPlaying] = React.useState(false);
        const gameRef = React.useRef();

        React.useEffect(() => {
          let timer, spawner;
          if (playing) {
            timer = setInterval(() => {
              setTime((t) => {
                if (t <= 1) {
                  clearInterval(spawner);
                  clearInterval(timer);
                  setPlaying(false);
                  alert("ðŸŽ¯ Juego terminado. PuntuaciÃ³n: " + score);
                  return 30;
                }
                return t - 1;
              });
            }, 1000);

            spawner = setInterval(() => {
              if (!gameRef.current) return;
              const target = document.createElement("div");
              target.className =
                "absolute w-12 h-12 rounded-full bg-gradient-to-r from-purple-600 to-cyan-400 shadow-lg cursor-pointer animate-pulse";
              const x = Math.random() * (gameRef.current.clientWidth - 50);
              const y = Math.random() * (gameRef.current.clientHeight - 50);
              target.style.left = x + "px";
              target.style.top = y + "px";
              target.onclick = () => {
                setScore((s) => s + 1);
                target.remove();
              };
              gameRef.current.appendChild(target);
              setTimeout(() => target.remove(), 1200);
            }, 600);
          }
          return () => {
            clearInterval(timer);
            clearInterval(spawner);
          };
        }, [playing]);

        return (
          <div>
            <h2 className="text-3xl font-bold mb-6 bg-gradient-to-r from-cyan-400 to-purple-600 bg-clip-text text-transparent">
              ðŸŽ¯ Juego NEXO â€” Caza los objetivos
            </h2>
            <p className="text-gray-400 mb-4">
              Haz clic en los cÃ­rculos brillantes antes de que desaparezcan.
            </p>
            <div
              ref={gameRef}
              className="relative mx-auto w-full max-w-[700px] h-[400px] bg-gray-800 rounded-xl overflow-hidden shadow-cyan-500/30 shadow-lg mb-4"
            ></div>
            <div className="flex justify-center items-center gap-6 text-lg">
              <span>
                <strong>PuntuaciÃ³n:</strong> {score}
              </span>
              <span>
                <strong>Tiempo:</strong> {time}s
              </span>
              <button
                onClick={() => {
                  setScore(0);
                  setTime(30);
                  setPlaying(true);
                }}
                className="bg-gradient-to-r from-cyan-400 to-purple-600 px-4 py-2 rounded-md text-white font-semibold hover:scale-105 transition"
              >
                Iniciar
              </button>
            </div>
          </div>
        );
      }

      ReactDOM.render(<Game />, document.getElementById("root"));
    </script>
  </body>
</html>
